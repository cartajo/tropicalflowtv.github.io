<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Tropical Flow TVüì∫ Radio - VIP</title>
<meta name="description" content="Tropical Flow TV Radio ‚Äî Salsa, Merengue, Bachata y Reggaet√≥n 24/7.">
<style>
  :root{
    --accent:#00e0ff; --accent2:#2dd4bf; --warn:#fbbf24;
    --glass:rgba(0,0,0,.62); --panel:rgba(255,255,255,.08);
    --maxw:1100px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif;color:#fff;
    background:
      linear-gradient(rgba(0,0,0,.35),rgba(0,0,0,.78)),
      url("https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=1920&auto=format&fit=crop") center/cover fixed no-repeat;
  }
  header,footer{background:rgba(0,0,0,.6);text-align:center;padding:14px}
  h1{margin:0;font-size:clamp(22px,3.2vw,34px)}
  .wrap{max-width:var(--maxw);margin:16px auto;padding:16px;border-radius:16px;background:var(--glass)}
  section{margin:20px 0;padding:14px;border-radius:14px;background:var(--panel)}
  h2{margin:0 0 12px;text-align:center}

  /* Botones */
  .btn{background:var(--accent);color:#000;border:0;border-radius:12px;font-weight:800;padding:10px 14px;cursor:pointer}
  .btn.alt{background:var(--accent2)}
  .btn.warn{background:var(--warn)}
  .controls{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:10px}

  /* Radio */
  #radioCard{position:relative;max-width:950px;margin:0 auto;padding:14px;border-radius:14px;background:rgba(0,0,0,.6);backdrop-filter:blur(4px)}
  #radioFrame{position:absolute;inset:0;width:100%;height:100%;border:0;display:none}
  #radioMini{position:relative;display:flex;gap:10px;justify-content:center;align-items:center}
  #radioMini .hint{color:#bbb;font-size:.9rem;text-align:center}
  .radio-viewport{position:relative;padding-top:56.25%;display:none}
  @media (max-width:820px){ .radio-viewport{padding-top:52%} }

  /* Video players (16:9 y 21:9) */
  .ratio16x9{position:relative;padding-top:56.25%}
  .ratio21x9{position:relative;padding-top:42.857%}
  .fill{position:absolute;inset:0}

  /* Carrusel thumbnails */
  .thumbStrip{max-width:var(--maxw);margin:10px auto 0;padding:10px;display:flex;gap:12px;overflow-x:auto;scroll-snap-type:x mandatory}
  .thumb{position:relative;flex:0 0 auto;width:210px;border-radius:12px;overflow:hidden;scroll-snap-align:start;box-shadow:0 8px 22px rgba(0,0,0,.35);cursor:pointer}
  .thumb img{display:block;width:100%;filter:brightness(.9);transition:transform .18s ease, filter .18s ease}
  .thumb:hover img{transform:scale(1.03);filter:brightness(1)}
  .thumb.active{outline:3px solid var(--accent);outline-offset:-3px}
  .playOverlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(transparent,rgba(0,0,0,.32))}
  .playBtn{width:54px;height:54px;border-radius:50%;background:rgba(0,0,0,.66);border:2px solid rgba(255,255,255,.9);display:flex;align-items:center;justify-content:center}
  .playBtn:before{content:"";border-left:18px solid #fff;border-top:10px solid transparent;border-bottom:10px solid transparent;margin-left:4px}

  /* Marca de agua ‚ÄúTROPICAL FLOW‚Äù */
  .watermark{
    position:fixed;inset:0;pointer-events:none;opacity:.08;mix-blend:overlay;
    background:
      radial-gradient(transparent,rgba(0,0,0,.45)),
      repeating-linear-gradient(90deg,transparent 0 46px, rgba(255,255,255,.07) 46px 47px);
  }
  .wmText{
    position:fixed;left:50%;top:50%;transform:translate(-50%,-50%) rotate(-90deg);
    font-weight:900;letter-spacing:.1em;font-size:18vw;color:#fff;opacity:.06;pointer-events:none
  }
</style>
<!-- API de YouTube -->
<script src="https://www.youtube.com/iframe_api"></script>
</head>
<body>
<div class="watermark"></div><div class="wmText">TROPICAL FLOW</div>
<header><h1>üå¥ Tropical Flow TVüì∫ Radio - VIP</h1></header>

<div class="wrap">

  <!-- =================== RADIO =================== -->
  <section id="radio">
    <h2>üéß Tropical Flow TV Radio</h2>
    <div id="radioCard">
      <!-- barra mini (inicio) -->
      <div id="radioMini">
        <button id="openPlayer" class="btn alt">‚ñ∂ Abrir player</button>
        <button id="openTab" class="btn warn">üåê Abrir en pesta√±a</button>
      </div>

      <!-- contenedor del iframe para el player oficial -->
      <div class="radio-viewport" id="radioViewport">
        <iframe id="radioFrame" title="Tropical Flow Radio"
          src="about:blank" allow="autoplay"></iframe>
      </div>

      <p class="hint" style="margin:10px 0 0;text-align:center;color:#bbb">
        Si no escuchas, pulsa <b>Abrir en pesta√±a</b> (evita bloqueos del navegador).
      </p>
    </div>
  </section>

  <!-- =================== VIDEO PROMO =================== -->
  <section id="promoArea">
    <h2>üé¨ Video Promo Tropical</h2>
    <div id="promoShell" class="ratio16x9" style="max-width:1000px;margin:0 auto;border-radius:14px;overflow:hidden;background:#000;box-shadow:0 12px 28px rgba(0,0,0,.35)">
      <div id="promoPlayer" class="fill"></div>
    </div>
    <div class="controls">
      <button id="promoPrev" class="btn">‚èÆ Anterior</button>
      <button id="promoToggle" class="btn alt">‚ñ∂ / ‚è∏</button>
      <button id="promoNext" class="btn">‚è≠ Siguiente</button>
      <button id="promoFs" class="btn warn">‚§¢ Pantalla completa</button>
    </div>
    <div id="promoTitle" style="max-width:1000px;margin:8px auto 0;text-align:center;font-weight:700"></div>
  </section>

  <!-- =================== CARRUSEL (17 VIDEOS) =================== -->
  <section id="videos">
    <h2>üéû Videos Recientes</h2>

    <div id="carouselPlayerShell" class="ratio21x9" style="max-width:1100px;margin:0 auto;border-radius:14px;overflow:hidden;background:#000;box-shadow:0 12px 28px rgba(0,0,0,.35)">
      <div id="ytMain" class="fill"></div>
    </div>

    <div class="controls">
      <button id="cPrev" class="btn">‚èÆ Anterior</button>
      <button id="cToggle" class="btn alt">‚ñ∂ / ‚è∏</button>
      <button id="cNext" class="btn">‚è≠ Siguiente</button>
      <button id="cFs" class="btn warn">‚§¢ Pantalla completa</button>
    </div>

    <div id="cTitle" style="max-width:1100px;margin:8px auto 10px;text-align:center;font-weight:700"></div>
    <div id="thumbs" class="thumbStrip"></div>
  </section>

</div>

<footer>¬© <span id="year"></span> Tropical Flow TVüì∫ Radio ‚Äî Todos los derechos reservados</footer>

<script>
document.getElementById('year').textContent = new Date().getFullYear();

/* ========== RADIO: abre en card o pesta√±a y NO ocupa pantalla completa en Android ========== */
const RADIO_URL = "https://tropicalflow.listen2myshow.com/?autoplay=1"; // tu canal oficial
const radioViewport = document.getElementById('radioViewport');
const radioFrame    = document.getElementById('radioFrame');
document.getElementById('openTab').onclick = ()=> window.open("https://tropicalflow.listen2myshow.com","_blank");
document.getElementById('openPlayer').onclick = ()=>{
  // mostrar el iframe dentro del recuadro
  radioViewport.style.display = 'block';
  radioFrame.style.display    = 'block';
  if (radioFrame.src === "about:blank") radioFrame.src = RADIO_URL;
};

/* ========== LISTAS ========== */
const PROMO_IDS = ["U0V7ATX_2CY","5ZVTbahB5CM"];
const CAROUSEL_IDS = [
  "tpi8zLE3Kqw","RBE8A9rAj8Y","XYe0ZHVvVig","h86xW_G-j4s","5pKPlIlQa_8",
  "wgqGHqhEZ8M","auTHP2prrxw","CL7m60BISiw","4jdbpZVzlf4","X_Df1rsXBjE",
  "RWp76Pj0RUo","M9wQdkQicbk","FCu8-sim5F4","O6xVXaBcOac","jTqKxMTtVEI",
  "4tXLT0hN8n8","n8RMGnc8v_o"
];

/* ========== PROMO PLAYER ========== */
let promoIndex=0, promoPlayer=null;
function createPromo(){
  if (!(window.YT && window.YT.Player)) return;
  promoPlayer = new YT.Player('promoPlayer',{
    videoId: PROMO_IDS[promoIndex],
    playerVars:{rel:0,modestbranding:1,playsinline:1,controls:1},
    events:{
      onReady: e=>{ try{e.target.mute(); e.target.playVideo();}catch(_){} updatePromoTitle(); },
      onStateChange: e=>{
        if (e.data===YT.PlayerState.ENDED) promoNext();
        if (e.data===YT.PlayerState.PLAYING) pauseCarousel();
      }
    }
  });
  // botones
  document.getElementById('promoPrev').onclick = promoPrev;
  document.getElementById('promoNext').onclick = promoNext;
  document.getElementById('promoToggle').onclick = ()=>{
    const s = promoPlayer.getPlayerState?.();
    if (s===YT.PlayerState.PLAYING) promoPlayer.pauseVideo(); else promoPlayer.playVideo();
  };
  const fsBtn=document.getElementById('promoFs'), shell=document.getElementById('promoShell');
  fsBtn.onclick = ()=>{ if (document.fullscreenElement) document.exitFullscreen?.(); else shell?.requestFullscreen?.(); };
}
function updatePromoTitle(){ try{ document.getElementById('promoTitle').textContent = promoPlayer.getVideoData()?.title || ""; }catch(_){ } }
function promoPrev(){ promoIndex=(promoIndex-1+PROMO_IDS.length)%PROMO_IDS.length; promoPlayer.loadVideoById(PROMO_IDS[promoIndex]); updatePromoTitle(); }
function promoNext(){ promoIndex=(promoIndex+1)%PROMO_IDS.length; promoPlayer.loadVideoById(PROMO_IDS[promoIndex]); updatePromoTitle(); }

/* ========== CARRUSEL PLAYER ========== */
let cIndex=0, cPlayer=null;
function buildThumbs(){
  const wrap=document.getElementById('thumbs');
  wrap.innerHTML = CAROUSEL_IDS.map((id,i)=>`
    <div class="thumb ${i===cIndex?'active':''}" data-i="${i}">
      <img src="https://img.youtube.com/vi/${id}/hqdefault.jpg" alt="thumb ${i+1}">
      <div class="playOverlay"><div class="playBtn"></div></div>
    </div>`).join('');
  wrap.querySelectorAll('.thumb').forEach(el=>{
    el.onclick = ()=>{ cIndex=+el.dataset.i; loadCarousel(true); };
  });
}
function markActive(){
  document.querySelectorAll('#thumbs .thumb').forEach((el,i)=>{
    el.classList.toggle('active', i===cIndex);
  });
}
function createCarousel(){
  if (!(window.YT && window.YT.Player)) return;
  cPlayer = new YT.Player('ytMain',{
    videoId: CAROUSEL_IDS[cIndex],
    playerVars:{rel:0,modestbranding:1,playsinline:1,controls:1},
    events:{
      onReady: e=>{ updateCTitle(); },
      onStateChange: e=>{
        if (e.data===YT.PlayerState.ENDED) nextC();
        if (e.data===YT.PlayerState.PLAYING) pausePromo();
        if (e.data===YT.PlayerState.PLAYING || e.data===YT.PlayerState.CUED) updateCTitle();
      }
    }
  });
  buildThumbs();
  document.getElementById('cPrev').onclick = prevC;
  document.getElementById('cNext').onclick = nextC;
  document.getElementById('cToggle').onclick = ()=>{
    const s=cPlayer.getPlayerState?.();
    if (s===YT.PlayerState.PLAYING) cPlayer.pauseVideo(); else cPlayer.playVideo();
  };
  const fsBtn=document.getElementById('cFs'), shell=document.getElementById('carouselPlayerShell');
  fsBtn.onclick = ()=>{ if (document.fullscreenElement) document.exitFullscreen?.(); else shell?.requestFullscreen?.(); };
}
function loadCarousel(play){
  cPlayer.loadVideoById(CAROUSEL_IDS[cIndex]);
  markActive(); updateCTitle();
  if (!play) cPlayer.pauseVideo?.();
}
function updateCTitle(){ try{ document.getElementById('cTitle').textContent = cPlayer.getVideoData()?.title || ""; }catch(_){} }
function prevC(){ cIndex=(cIndex-1+CAROUSEL_IDS.length)%CAROUSEL_IDS.length; loadCarousel(true); }
function nextC(){ cIndex=(cIndex+1)%CAROUSEL_IDS.length; loadCarousel(true); }
function pausePromo(){ try{ const s=promoPlayer?.getPlayerState(); if (s===YT.PlayerState.PLAYING) promoPlayer.pauseVideo(); }catch(_){} }
function pauseCarousel(){ try{ const s=cPlayer?.getPlayerState();   if (s===YT.PlayerState.PLAYING) cPlayer.pauseVideo(); }catch(_){} }

/* ========== BOOT YouTube API ========== */
(function boot(){
  let started=false;
  function start(){ if (started) return; started=true; createPromo(); createCarousel(); }
  if (window.YT && window.YT.Player) start();
  const prev=window.onYouTubeIframeAPIReady;
  window.onYouTubeIframeAPIReady=function(){ if (typeof prev==='function') prev(); start(); };
})();
</script>
</body>
</html>

