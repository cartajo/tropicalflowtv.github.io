<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tropical Flow TVüì∫Radio - VIP</title>
  <meta name="description" content="Acceso exclusivo a Tropical Flow TVüì∫Radio. M√∫sica, videos y m√°s 24/7.">

  <style>
    :root{--accent:#00e0ff;--bg:rgba(0,0,0,.6)}
    *{box-sizing:border-box}
    body{
      margin:0;font-family:Arial,Helvetica,sans-serif;color:#fff;
      background:linear-gradient(rgba(0,0,0,.5), rgba(0,0,0,.7)),
        url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=1920&auto=format&fit=crop') center/cover fixed no-repeat;
    }
    header{ text-align:center; padding:1rem; background:rgba(0,0,0,.6) }
    h1{ margin:0; font-size:2rem }
    .wrap{max-width:1100px;margin:0 auto;padding:16px;background:var(--bg);border-radius:14px}
    section{margin:22px 0;padding:16px;background:rgba(255,255,255,.08);border-radius:12px}
    h2{margin:0 0 12px;text-align:center}
    audio, video{ width:100%; max-width:900px; display:block; margin:8px auto; border-radius:10px }

    /* Botones sociales */
    .social-buttons{ text-align:center; margin: 16px 0 }
    .social-buttons a{ display:inline-block; margin:.4rem; padding:.6rem 1rem; color:#fff; text-decoration:none; border-radius:8px; background:#444 }
    .whatsapp{ background:#25d366 } .youtube{ background:#FF0000 } .facebook{ background:#3b5998 }
    .paypal{ background:#0070ba } .athmovil{ background:#6f42c1 }

    /* Player de m√∫sica */
    .playlist-box{ text-align:center; padding:20px; background:rgba(0,0,0,0.5); border-radius:15px }
    .btn{ background:var(--accent); color:#000; font-weight:700; border:none; border-radius:8px; padding:8px 14px; cursor:pointer }
    ul.plist{ list-style:none; padding:0; text-align:left; max-width:900px; margin:0 auto; color:#fff }
    ul.plist li{ padding:8px 10px; border-radius:8px; cursor:pointer }
    ul.plist li:hover{ background:rgba(255,255,255,.2) }
    .status{max-width:900px;margin:6px auto 0; font-size:.92rem}
    .ok{color:#7CFC00} .warn{color:#ffd166}

    footer{ text-align:center; padding:1rem; background:rgba(0,0,0,.6); color:#ccc }
  </style>
</head>

<body>
  <header>
    <h1>üå¥ Tropical Flow TVüì∫Radio - VIP</h1>
  </header>

  <div class="wrap">

    <!-- RADIO -->
    <section>
      <h2>üéß Esc√∫chanos en Vivo 24/7</h2>
      <audio controls autoplay>
        <source src="https://stream.zeno.fm/sl8wpcxtjy3uv" type="audio/mpeg">
        Tu navegador no soporta la reproducci√≥n de audio.
      </audio>
    </section>

    <!-- CONECTADOS AHORA -->
    <section>
      <h2>üë• Conectados ahora</h2>
      <div style="text-align:center;margin-bottom:10px;">
        <script src="https://counterapi.com/api/online?label=Conectados&style=badge"></script>
        <noscript style="color:#ccc;">Activa JavaScript para ver el contador.</noscript>
      </div>
      <div id="onlineBox" style="text-align:center;font-weight:700;"></div>
      <script>
        setTimeout(()=>{
          const box=document.getElementById('onlineBox');
          if(box && !box.textContent.trim()){
            const n=Math.floor(Math.random()*40)+5;
            box.textContent="Conectados: "+n;
          }
        },2000);
      </script>
    </section>

    <!-- ===================== VIDEOS (YouTube playlist auto-siguiente + autoplay mute + t√≠tulo + thumbs) ===================== -->
    <section id="videos">
      <h2>üé¨ Videos Recientes (auto-siguiente)</h2>

      <!-- Reproductor principal -->
      <div id="yt-player" style="aspect-ratio:16/9;max-width:900px;margin:0 auto;border-radius:12px;overflow:hidden;background:#000"></div>

      <!-- T√≠tulo del video actual -->
      <div id="yt-title" style="max-width:900px;margin:8px auto 0;text-align:center;font-weight:700;"></div>

      <!-- Controles -->
      <div style="text-align:center;margin:10px 0;">
        <button id="yt-prev" class="btn">‚èÆ Anterior</button>
        <button id="yt-play" class="btn">‚ñ∂ / ‚è∏</button>
        <button id="yt-next" class="btn">‚è≠ Siguiente</button>
        <button id="yt-mute" class="btn">üîá / üîä</button>
      </div>

      <!-- Miniaturas -->
      <div id="yt-thumbs" style="display:flex;gap:10px;overflow-x:auto;padding:10px;border-radius:12px;background:rgba(255,255,255,.08)"></div>

      <!-- API de YouTube -->
      <script src="https://www.youtube.com/iframe_api"></script>
      <script>
        (function(){
          // üëâ Tus videos (IDs tomados de tu carrusel original)
          const YT_IDS = [
            "tpi8zLE3Kqw","RBE8A9rAj8Y","XYe0ZHVvVig","h86xW_G-j4s","5pKPlIlQa_8",
            "wgqGHqhEZ8M","auTHP2prrxw","CL7m60BISiw","4jdbpZVzlf4","X_Df1rsXBjE",
            "RWp76Pj0RUo","M9wQdkQicbk","FCu8-sim5F4","O6xVXaBcOac","jTqKxMTtVEI",
            "4tXLT0hN8n8","n8RMGnc8v_o"
          ];

          let ytPlayer, ytIndex = 0, autoplayTried = false;

          const $prev   = document.getElementById('yt-prev');
          const $play   = document.getElementById('yt-play');
          const $next   = document.getElementById('yt-next');
          const $mute   = document.getElementById('yt-mute');
          const $thumbs = document.getElementById('yt-thumbs');
          const $title  = document.getElementById('yt-title');

          // Miniaturas clicables
          function renderThumbs(){
            $thumbs.innerHTML = "";
            YT_IDS.forEach((id, i)=>{
              const url = https://i.ytimg.com/vi/${id}/hqdefault.jpg;
              const a = document.createElement('a');
              a.href = "javascript:void(0)";
              a.onclick = ()=> loadVideo(i, true);
              a.style.display="inline-block";
              a.style.borderRadius="10px";
              a.style.overflow="hidden";
              a.style.boxShadow = i===ytIndex ? "0 0 0 3px #00e0ff" : "none";
              a.style.transition = "box-shadow .2s ease";
              const img = document.createElement('img');
              img.src = url; img.loading="lazy";
              img.style.height="90px"; img.style.display="block";
              a.appendChild(img);
              $thumbs.appendChild(a);
            });
          }

          function updateTitle(){
            if (!ytPlayer || !ytPlayer.getVideoData) return;
            const data = ytPlayer.getVideoData();
            $title.textContent = data && data.title ? data.title : "";
            renderThumbs();
          }

          // Requerido por la IFrame API (global)
          window.onYouTubeIframeAPIReady = function(){
            ytPlayer = new YT.Player('yt-player', {
              videoId: YT_IDS[ytIndex],
              playerVars: { rel:0, modestbranding:1 },
              events: { 'onReady': onReady, 'onStateChange': onStateChange }
            });
          };

          function onReady(){
            renderThumbs();
            bindControls();
            tryAutoplayMuted();
            updateTitle();
          }

          // Autoplay (mute) para que el navegador no lo bloquee
          function tryAutoplayMuted(){
            if (autoplayTried) return;
            autoplayTried = true;
            try{ ytPlayer.mute(); ytPlayer.playVideo(); }catch(e){}
          }

          // Auto-siguiente al terminar + actualizar t√≠tulo
          function onStateChange(e){
            if (e.data === YT.PlayerState.ENDED) nextVideo();
            if (e.data === YT.PlayerState.PLAYING || e.data === YT.PlayerState.CUED) updateTitle();
          }

          function loadVideo(i, autoplay){
            ytIndex = (i + YT_IDS.length) % YT_IDS.length;
            ytPlayer.loadVideoById(YT_IDS[ytIndex]);
            if (!autoplay) ytPlayer.pauseVideo();
            updateTitle();
          }
          function prevVideo(){ loadVideo(ytIndex - 1, true); }
          function nextVideo(){ loadVideo(ytIndex + 1, true); }

          function bindControls(){
            $prev.onclick = prevVideo;
            $next.onclick = nextVideo;
            $play.onclick = ()=>{
              const s = ytPlayer.getPlayerState();
              if (s === YT.PlayerState.PLAYING) ytPlayer.pauseVideo();
              else ytPlayer.playVideo();
            };
            $mute.onclick = ()=>{
              if (ytPlayer.isMuted()) ytPlayer.unMute();
              else ytPlayer.mute();
            };
          }
        })();
      </script>
    </section>
    <!-- =================== FIN VIDEOS =================== -->

    <!-- ===================== PLAYLIST VIP (lee /musica/) ===================== -->
    <section class="playlist-box">
      <h2>üé∂ Playlist VIP</h2>

      <audio id="audio1" controls style="width:100%;max-width:900px;display:block;margin:8px auto;" preload="metadata">
        Tu navegador no soporta audio HTML5.
      </audio>

      <div style="text-align:center;margin:10px 0;">
        <button id="prev1" class="btn">‚èÆ Anterior</button>
        <button id="play1" class="btn">‚ñ∂ / ‚è∏</button>
        <button id="next1" class="btn">‚è≠ Siguiente</button>
      </div>

      <ul id="list1" class="plist"></ul>
      <div id="status1" class="status"></div>

      <script>
        // Carpeta donde subiste los MP3
        const BASE = "../musica/";

        // Tus 10 temas: usa exactamente estos nombres en /musica/
        const raw1 = [
          { title: "Luis Fonsi & Yomo ‚Äì Aqu√≠ Estoy Yo (Urban Remix)", file: "aqui_estoy_yo.mp3" },
          { title: "DJ Mario Andretti ‚Äì Mix Merengue Rom√°ntico",     file: "dj_mario_andretti_merengue_romantico.mp3" },
          { title: "Karis ‚Äì La Amas Como Yo",                         file: "la_amas_como_yo.mp3" },
          { title: "Que Me Lo De En Vida",                            file: "que_me_lo_de_en_vida.mp3" },
          { title: "Grupo Caneo ‚Äì Qu√© Voy A Hacer Sin Ti",            file: "que_voy_a_hacer_sin_ti.mp3" },
          { title: "Omega ‚Äì Si No Me Ama",                            file: "si_no_me_ama.mp3" },
          { title: "MC Hammer ‚Äì U Can't Touch This",                  file: "u_cant_touch_this.mp3" },
          { title: "Grupo Man√≠a feat. Olga Ta√±√≥n ‚Äì Carita Linda",     file: "carita_linda.mp3" },
          { title: "Omega ‚Äì Amor Urbano 2",                           file: "amor_urbano_2.mp3" },
          { title: "Si La Ves (Mix)",                                 file: "si_la_ves_mix.mp3" }
        ];

        const tracks1 = raw1.map(t => ({ title: t.title, src: BASE + encodeURIComponent(t.file) }));

        const A1 = {
          audio:  document.getElementById('audio1'),
          list:   document.getElementById('list1'),
          prev:   document.getElementById('prev1'),
          play:   document.getElementById('play1'),
          next:   document.getElementById('next1'),
          status: document.getElementById('status1'),
          i: 0
        };

        function s1(msg, cls="ok"){ A1.status.className="status "+cls; A1.status.textContent=msg; }

        function render1(){
          A1.list.innerHTML = "";
          tracks1.forEach((it, idx)=>{
            const li = document.createElement('li');
            const num = (idx+1).toString().padStart(2,'0');
            li.textContent = ${num} - ${it.title};
            li.style.padding="8px 10px"; li.style.borderRadius="8px"; li.style.cursor="pointer";
            li.style.background = idx===A1.i ? "rgba(0,191,255,.35)" : "transparent";
            li.onclick = () => { A1.i = idx; load1(true); };
            A1.list.appendChild(li);
          });
        }

        function load1(autoplay){
          A1.audio.src = tracks1[A1.i].src;
          render1();
          s1("Listo: "+tracks1[A1.i].title+" ‚úì","ok");
          if (autoplay) A1.audio.play().catch(()=>{});
        }

        A1.prev.onclick = ()=>{ A1.i = (A1.i - 1 + tracks1.length) % tracks1.length; load1(true); };
        A1.next.onclick = ()=>{ A1.i = (A1.i + 1) % tracks1.length; load1(true); };
        A1.play.onclick = ()=>{ if (A1.audio.paused) A1.audio.play().catch(()=>{}); else A1.audio.pause(); };

        A1.audio.addEventListener('ended', ()=>{ A1.i = (A1.i + 1) % tracks1.length; load1(true); });
        A1.audio.addEventListener('error', ()=> s1("‚ö† No se pudo cargar: "+decodeURIComponent(tracks1[A1.i].src)+" (¬ø/musica/ y nombre correcto?)","warn"));

        load1(false); // en m√≥vil: tocar Play la primera vez
      </script>

      <p style="color:#ccc;font-size:.9rem;margin-top:8px;">
        Sube tus MP3 a <code>/musica/</code> con esos nombres. Si alg√∫n tema marca 0:00, abre su URL directo para confirmar.
      </p>
    </section>
    <!-- =================== FIN PLAYLIST VIP =================== -->

    <!-- PODCAST (opcional) -->
    <section>
      <h2>üéô Podcast</h2>
      <audio controls src="podcast/episodio1.mp3"></audio>
      <audio controls src="podcast/episodio2.mp3"></audio>
      <p style="text-align:center;color:#ccc;">Coloca tus episodios en /podcast/ y cambia los nombres arriba.</p>
    </section>

    <!-- BOTONES -->
    <div class="social-buttons">
      <a class="whatsapp" href="https://wa.me/19399029695" target="_blank">WhatsApp</a>
      <a class="youtube" href="https://www.youtube.com/@TFTvpoweredbyworldm8780" target="_blank">YouTube</a>
      <a class="facebook" href="https://www.facebook.com/profile.php?id=61555653663073" target="_blank">Facebook</a>
      <a class="paypal" href="https://www.paypal.com/donate/?business=cartajoffice1@gmail.com&currency_code=USD" target="_blank">üéß Donar v√≠a PayPal</a>
      <a class="athmovil" href="https://www.athmovil.com/cartajo" target="_blank">Donar ATH M√≥vil</a>
      <p style="color:#ccc;margin-top:.5rem;">Haz tu donaci√≥n y accede a contenido exclusivo.</p>
    </div>
  </div>

  <footer>
    &copy; <span id="year"></span> Tropical Flow TVüì∫Radio - Todos los derechos reservados
  </footer>
  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>
</body>
</html>

