<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tropical Flow TV📺Radio - VIP</title>
  <meta name="description" content="Acceso exclusivo a Tropical Flow TV📺Radio. Música, videos y más 24/7.">

  <style>
    :root{--accent:#00e0ff;--bg:rgba(0,0,0,.6);--maxw:1100px}
    *{box-sizing:border-box}
    body{
      margin:0;font-family:Arial,Helvetica,sans-serif;color:#fff;
      background:linear-gradient(rgba(0,0,0,.5), rgba(0,0,0,.7)),
        url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=1920&auto=format&fit=crop') center/cover fixed no-repeat;
    }
    header{ text-align:center; padding:1rem; background:rgba(0,0,0,.6) }
    h1{ margin:0; font-size:clamp(22px,3.2vw,34px) }
    .wrap{max-width:var(--maxw);margin:0 auto;padding:16px;background:var(--bg);border-radius:14px}
    section{margin:22px 0;padding:16px;background:rgba(255,255,255,.08);border-radius:12px}
    h2{margin:0 0 12px;text-align:center}
    audio{ width:100%; max-width:720px; display:block; margin:8px auto; border-radius:10px }

    /* Video 21:9 + capas */
    .video-shell{ position:relative; width:100%; margin:0 auto; border-radius:12px; overflow:hidden; background:#000; max-width:var(--maxw) }
    .video-aspect{ position:relative; width:100%; padding-top:42.857% } /* 21:9 */
    .video-aspect > div, .video-aspect iframe{ position:absolute; inset:0; width:100%!important; height:100%!important; z-index:1 }
    .fade{ transition:opacity .25s ease } .hide{opacity:0} .show{opacity:1}
    #yt-controls{ position:relative; z-index:5 }        /* <- botones por encima */

    /* Thumbs */
    #yt-thumbs{ display:flex;gap:10px;overflow-x:auto;padding:12px;margin:6px auto 0;max-width:var(--maxw) }
    #yt-thumbs img{ height:90px;border-radius:10px;display:block }
    @media (max-width:600px){ #yt-thumbs img{ height:70px } }

    /* Botones */
    .btn{ background:var(--accent); color:#000; font-weight:700; border:none; border-radius:10px; padding:10px 14px; cursor:pointer }
    .btn.alt{ background:#2dd4bf } .btn.warn{ background:#fbbf24 }

    /* Playlist lista */
    .playlist-box{ text-align:center; padding:20px; background:rgba(0,0,0,.25); border-radius:15px } /* más transparente */
    ul.plist{ list-style:none; padding:0; max-width:720px; margin:0 auto; color:#fff; text-align:left }
    ul.plist li{ padding:8px 10px; border-radius:8px; cursor:pointer }
    ul.plist li:hover{ background:rgba(255,255,255,.18) }
    .status{max-width:720px;margin:6px auto 0; font-size:.92rem}
    .ok{color:#7CFC00} .warn{color:#ffd166}

    /* Social */
    .social-buttons{ text-align:center; margin: 16px 0 }
    .social-buttons a{ display:inline-block; margin:.4rem; padding:.6rem 1rem; color:#fff; text-decoration:none; border-radius:8px; background:#444 }
    .whatsapp{ background:#25d366 } .youtube{ background:#FF0000 } .facebook{ background:#3b5998 }
    .paypal{ background:#0070ba } .athmovil{ background:#6f42c1 }

    footer{ text-align:center; padding:1rem; background:rgba(0,0,0,.6); color:#ccc }
  </style>

  <!-- API YouTube (una sola vez) -->
  <script>
    (function ensureYT(){
      if (![...document.scripts].some(s => (s.src||'').includes('iframe_api'))) {
        const tag=document.createElement('script'); tag.src="https://www.youtube.com/iframe_api"; document.head.appendChild(tag);
      }
    })();
  </script>
</head>
<body>
  <header><h1>🌴 Tropical Flow TV📺Radio - VIP</h1></header>

  <div class="wrap">
    <!-- RADIO -->
    <section id="radio">
      <h2>🎧 Escúchanos en Vivo 24/7</h2>
      <audio id="radioPlayer" controls>
        <source src="https://stream.zeno.fm/sl8wpcxtjy3uv" type="audio/mpeg">
        Tu navegador no soporta la reproducción de audio.
      </audio>
    </section>

    <!-- CONECTADOS -->
    <section>
      <h2>👥 Conectados ahora</h2>
      <div style="text-align:center;margin-bottom:10px;">
        <script src="https://counterapi.com/api/online?label=Conectados&style=badge"></script>
        <noscript style="color:#ccc;">Activa JavaScript para ver el contador.</noscript>
      </div>
      <div id="onlineBox" style="text-align:center;font-weight:700;"></div>
    </section>

    <!-- VIDEOS RECIENTES -->
    <section id="videos">
      <h2>🎬 Videos Recientes</h2>
      <div class="video-shell">
        <div class="video-aspect">
          <div id="yt-carousel-player" class="fade show"></div>
        </div>
      </div>
      <div id="yt-current-title" style="max-width:var(--maxw);margin:10px auto 0;text-align:center;font-weight:700;"></div>

      <div id="yt-controls" style="max-width:var(--maxw);margin:10px auto 0;display:flex;gap:10px;justify-content:center;flex-wrap:wrap;">
        <button id="btnPrevVid" class="btn">⏮ Anterior</button>
        <button id="btnPlayPauseVid" class="btn alt">▶ / ⏸</button>
        <button id="btnNextVid" class="btn">⏭ Siguiente</button>
        <button id="btnFs" class="btn warn">⤢ Pantalla completa</button>
      </div>
      <div id="yt-thumbs"></div>
    </section>

    <!-- PLAYLIST VIP 1 -->
    <section class="playlist-box">
      <h2>🎶 Playlist VIP 1</h2>
      <audio id="audio1" controls preload="metadata"></audio>
      <div style="text-align:center;margin:10px 0;">
        <button id="prev1" class="btn">⏮ Anterior</button>
        <button id="play1" class="btn alt">▶ / ⏸</button>
        <button id="next1" class="btn">⏭ Siguiente</button>
      </div>
      <ul id="list1" class="plist"></ul>
      <div id="status1" class="status"></div>
      <p style="color:#ccc;font-size:.9rem;margin-top:8px;">
        Tus MP3 van en <code>/musica/</code> (este archivo está en <code>/Privado/</code>, por eso apuntamos a <code>../musica/</code>).
      </p>
    </section>

    <!-- PLAYLIST VIP 2 -->
    <section class="playlist-box">
      <h2>🎶 Playlist VIP 2</h2>
      <audio id="audio2" controls preload="metadata"></audio>
      <div style="text-align:center;margin:10px 0;">
        <button id="prev2" class="btn">⏮ Anterior</button>
        <button id="play2" class="btn alt">▶ / ⏸</button>
        <button id="next2" class="btn">⏭ Siguiente</button>
      </div>
      <ul id="list2" class="plist"></ul>
      <div id="status2" class="status"></div>
      <p style="color:#ccc;font-size:.9rem;margin-top:8px;">
        Si quieres usarla, crea <code>/musica2/</code>, sube MP3 (≤25MB) y edita la lista en el código.
      </p>
    </section>

    <!-- VIDEO PROMO -->
    <section id="promo" style="margin-top:24px;">
      <h2>🎬 Video Promo Tropical</h2>
      <div class="video-shell" style="max-width:900px">
        <div class="video-aspect" style="padding-top:56.25%"> <!-- 16:9 -->
          <div id="promo-player"></div>
        </div>
      </div>
      <div id="promo-title" style="max-width:900px;margin:8px auto 0;text-align:center;font-weight:700;"></div>

      <div id="promo-controls" style="max-width:900px;margin:10px auto 0;display:flex;gap:10px;justify-content:center;flex-wrap:wrap;">
        <button id="btnPromoPrev" class="btn">⏮ Anterior</button>
        <button id="btnPromoPlay" class="btn alt">▶ / ⏸</button>
        <button id="btnPromoNext" class="btn">⏭ Siguiente</button>
        <button id="btnPromoFs"   class="btn warn">⤢ Pantalla completa</button>
      </div>
    </section>

    <!-- BOTONES -->
    <div class="social-buttons">
      <a class="whatsapp" href="https://wa.me/19399029695" target="_blank">WhatsApp</a>
      <a class="youtube" href="https://www.youtube.com/@TFTvpoweredbyworldm8780" target="_blank">YouTube</a>
      <a class="facebook" href="https://www.facebook.com/profile.php?id=61555653663073" target="_blank">Facebook</a>
      <a class="paypal" href="https://www.paypal.com/donate/?business=cartajoffice1@gmail.com&currency_code=USD" target="_blank">🎧 Donar vía PayPal</a>
      <a class="athmovil" href="https://www.athmovil.com/cartajo" target="_blank">Donar ATH Móvil</a>
    </div>
  </div>

  <footer>&copy; <span id="year"></span> Tropical Flow TV📺Radio - Todos los derechos reservados</footer>
  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>

  <script>
    /*********** PAUSA EXCLUSIVA: si suena uno, se pausa el resto ***********/
    function pauseOthers(except){
      document.querySelectorAll('audio').forEach(a=>{ if(a!==except && !a.paused){ try{a.pause()}catch(_){}}});
      try{
        if(window._ytCarousel && window._ytCarousel.getPlayerState()===YT.PlayerState.PLAYING) window._ytCarousel.pauseVideo();
      }catch(_){}
      try{
        if(window._ytPromo && window._ytPromo.getPlayerState()===YT.PlayerState.PLAYING) window._ytPromo.pauseVideo();
      }catch(_){}
    }
    document.addEventListener('play', (e)=>{ if(e.target.tagName==='AUDIO') pauseOthers(e.target); }, true);
    document.getElementById('radioPlayer').addEventListener('play', ()=>pauseOthers(document.getElementById('radioPlayer')));
  </script>

  <script>
    /*********** CARRUSEL YOUTUBE ***********/
    const CAROUSEL_IDS = ["tpi8zLE3Kqw","RBE8A9rAj8Y","XYe0ZHVvVig","h86xW_G-j4s","5pKPlIlQa_8","wgqGHqhEZ8M","auTHP2prrxw","CL7m60BISiw","4jdbpZVzlf4","X_Df1rsXBjE","RWp76Pj0RUo","M9wQdkQicbk","FCu8-sim5F4","O6xVXaBcOac","jTqKxMTtVEI","4tXLT0hN8n8","n8RMGnc8v_o"];
    let cIndex=0; let cPlayer=null;

    function buildThumbs(){
      const strip=document.getElementById("yt-thumbs");
      strip.innerHTML = CAROUSEL_IDS.map((id,idx)=>`
        <button data-i="${idx}" style="border:0;background:transparent;cursor:pointer;flex:0 0 auto">
          <img src="https://img.youtube.com/vi/${id}/hqdefault.jpg"
               alt="thumb ${idx+1}"
               style="height:90px;border-radius:10px;opacity:${idx===cIndex?1:.55};outline:${idx===cIndex?'3px solid #00e0ff':'none'}">
        </button>`).join("");
      strip.querySelectorAll("button").forEach(b=>b.onclick=()=>goTo(+b.dataset.i));
    }
    function highlight(){
      document.querySelectorAll("#yt-thumbs img").forEach((im,idx)=>{
        im.style.opacity = idx===cIndex ? "1" : ".55";
        im.style.outline = idx===cIndex ? "3px solid #00e0ff" : "none";
      });
    }
    function updateTitleSoon(){ setTimeout(()=>{ try{
      const d=cPlayer.getVideoData(); document.getElementById("yt-current-title").textContent=d?.title||"";
    }catch(_){ }}, 250); }
    function goTo(idx){
      cIndex = (idx + CAROUSEL_IDS.length) % CAROUSEL_IDS.length;
      pauseOthers(null);
      cPlayer.loadVideoById(CAROUSEL_IDS[cIndex]);
      highlight(); updateTitleSoon();
    }
    function prevVideo(){ goTo(cIndex-1); }
    function nextVideo(){ goTo(cIndex+1); }
    function togglePlay(){
      try{
        const st=cPlayer.getPlayerState();
        if(st===YT.PlayerState.PLAYING) cPlayer.pauseVideo();
        else { pauseOthers(null); cPlayer.playVideo(); }
      }catch(_){}
    }
    function createCarousel(){
      cPlayer=new YT.Player('yt-carousel-player',{
        videoId:CAROUSEL_IDS[cIndex],
        playerVars:{rel:0,modestbranding:1,playsinline:1,controls:1},
        events:{
          onReady:e=>{ try{e.target.mute();e.target.playVideo();}catch(_){ } updateTitleSoon(); },
          onStateChange:e=>{
            if(e.data===YT.PlayerState.PLAYING) pauseOthers(null);
            if(e.data===YT.PlayerState.ENDED) nextVideo();
            if(e.data===YT.PlayerState.PLAYING||e.data===YT.PlayerState.CUED) updateTitleSoon();
          }
        }
      });
      window._ytCarousel=cPlayer;
      buildThumbs(); highlight();

      // Botones con z-index alto (ya en CSS)
      document.getElementById("btnPrevVid").onclick=prevVideo;
      document.getElementById("btnNextVid").onclick=nextVideo;
      document.getElementById("btnPlayPauseVid").onclick=togglePlay;

      // Fullscreen
      const btn=document.getElementById('btnFs');
      const shell=document.querySelector('#videos .video-shell');
      function toggleFs(){ if(document.fullscreenElement) document.exitFullscreen?.(); else shell?.requestFullscreen?.(); }
      function onFsChange(){ btn.textContent = document.fullscreenElement ? "⤢ Salir de pantalla completa" : "⤢ Pantalla completa"; }
      btn.addEventListener('click',toggleFs); document.addEventListener('fullscreenchange',onFsChange);
    }
    (function bootYT(){
      const prev=window.onYouTubeIframeAPIReady;
      window.onYouTubeIframeAPIReady=function(){ if(typeof prev==='function') prev(); createCarousel(); };
      if(window.YT&&window.YT.Player) createCarousel();
    })();
  </script>

  <script>
    /*********** PLAYLISTS ***********/
    const base1="../musica/";
    const raw1=[
      { title:"01 - Aquí Estoy Yo [Urban Remix] - Luis Fonsi & Yomo.mp3", file:"01 - Aquí Estoy Yo [Urban Remix] - Luis Fonsi & Yomo.mp3" },
      { title:"02 - dj mario andretti - mix merengue romantico.mp3",     file:"02 - dj mario andretti - mix merengue romantico.mp3" },
      { title:"03 - La Amas Como Yo - Karis.Mp3",                         file:"03 - La Amas Como Yo - Karis.Mp3" },
      { title:"04 - Que Voy A Hacer Sin Ti - Grupo Caneo.Mp3",            file:"04 - Que Voy A Hacer Sin Ti - Grupo Caneo.Mp3" },
      { title:"05 - Hey Dude! - Elvis Crespo.mp3",                        file:"05 - Hey Dude! - Elvis Crespo.mp3" },
      { title:"06 - Te Regalo Amores - Ken-Yrkm.mp3",                     file:"06 - Te Regalo Amores - Ken-Yrkm.mp3" },
      { title:"07 - What Is Love - Haddaway.Mp3",                         file:"07 - What Is Love - Haddaway.Mp3" },
      { title:"08 - Boricua Como El Gran Combo.mp3",                      file:"08 - Boricua Como El Gran Combo.mp3" },
      { title:"09 - Me Gusta, Me Gusta - Elvis Crespo.mp3",               file:"09 - Me Gusta, Me Gusta - Elvis Crespo.mp3" },
      { title:"10 - Alexis & Fido Ft Daddy Yankee - Rescate.mp3",         file:"10 - Alexis & Fido Ft Daddy Yankee - Rescate.mp3" }
    ];
    const t1=raw1.map(t=>({ title:t.title, src: base1+encodeURIComponent(t.file) }));

    const A1={ audio:audio1, list:list1, prev:prev1, play:play1, next:next1, status:status1, i:0 };
    function s1(msg,cls="ok"){ A1.status.className="status "+cls; A1.status.textContent=msg; }
    function render1(){ A1.list.innerHTML=""; t1.forEach((it,idx)=>{ const li=document.createElement('li'); li.textContent=(idx===A1.i?"▶ ":"")+it.title; li.style.background=idx===A1.i?"rgba(0,191,255,.35)":"transparent"; li.onclick=()=>{A1.i=idx; load1(true)}; A1.list.appendChild(li); });}
    function load1(auto){ A1.audio.src=t1[A1.i].src; render1(); s1("Cargando: "+t1[A1.i].title+"…"); if(auto){ pauseOthers(A1.audio); A1.audio.play().catch(()=>{});} }
    A1.prev.onclick=()=>{ A1.i=(A1.i-1+t1.length)%t1.length; load1(true) };
    A1.next.onclick=()=>{ A1.i=(A1.i+1)%t1.length; load1(true) };
    A1.play.onclick=()=>{ if(A1.audio.paused){ pauseOthers(A1.audio); A1.audio.play().catch(()=>{});} else A1.audio.pause(); };
    A1.audio.addEventListener('ended',()=>{ A1.i=(A1.i+1)%t1.length; load1(true) });
    A1.audio.addEventListener('loadedmetadata',()=>s1("Listo: "+t1[A1.i].title+" ✓","ok"));
    A1.audio.addEventListener('play',()=>pauseOthers(A1.audio));
    A1.audio.addEventListener('error',()=>s1("⚠ No se pudo cargar: "+decodeURIComponent(t1[A1.i].src),"warn"));
    load1(false);

    // Playlist 2 vacío por ahora (rellena raw2 si lo usas)
    const base2="../musica2/"; const raw2=[]; const t2=raw2.map(t=>({title:t.title,src:base2+encodeURIComponent(t.file)}));
    const A2={ audio:audio2, list:list2, prev:prev2, play:play2, next:next2, status:status2, i:0 };
    function s2(msg,cls="ok"){ A2.status.className="status "+cls; A2.status.textContent=msg; }
    function render2(){ A2.list.innerHTML=""; if(!t2.length){ const li=document.createElement('li'); li.textContent="Sube canciones a /musica2/ y agrégalas al listado."; li.style.opacity=.7; A2.list.appendChild(li); return;}
      t2.forEach((it,idx)=>{ const li=document.createElement('li'); li.textContent=(idx===A2.i?"▶ ":"")+it.title; li.style.background=idx===A2.i?"rgba(0,191,255,.35)":"transparent"; li.onclick=()=>{A2.i=idx; load2(true)}; A2.list.appendChild(li);});}
    function load2(auto){ if(!t2.length) return; A2.audio.src=t2[A2.i].src; render2(); s2("Cargando: "+t2[A2.i].title+"…"); if(auto){ pauseOthers(A2.audio); A2.audio.play().catch(()=>{});} }
    A2.prev.onclick=()=>{ if(!t2.length) return; A2.i=(A2.i-1+t2.length)%t2.length; load2(true) };
    A2.next.onclick=()=>{ if(!t2.length) return; A2.i=(A2.i+1)%t2.length; load2(true) };
    A2.play.onclick=()=>{ if(!t2.length) return; if(A2.audio.paused){ pauseOthers(A2.audio); A2.audio.play().catch(()=>{});} else A2.audio.pause(); };
    A2.audio.addEventListener('ended',()=>{ if(!t2.length) return; A2.i=(A2.i+1)%t2.length; load2(true) });
    A2.audio.addEventListener('loadedmetadata',()=>{ if(!t2.length) return; s2("Listo: "+t2[A2.i].title+" ✓","ok") });
    A2.audio.addEventListener('play',()=>pauseOthers(A2.audio));
    A2.audio.addEventListener('error',()=>s2("⚠ No se pudo cargar (¿/musica2/ y nombre correcto?)","warn"));
    render2();
  </script>

  <script>
    /*********** VIDEO PROMO (con controles) ***********/
    const PROMO_IDS=["U0V7ATX_2CY","5ZVTbahB5CM"];
    let pIndex=0; let pPlayer=null;

    function promoTitle(){ try{ const d=pPlayer.getVideoData(); document.getElementById('promo-title').textContent=d?.title||""; }catch(_){} }
    function promoPrev(){ pIndex=(pIndex-1+PROMO_IDS.length)%PROMO_IDS.length; pauseOthers(null); pPlayer.loadVideoById(PROMO_IDS[pIndex]); }
    function promoNext(){ pIndex=(pIndex+1)%PROMO_IDS.length; pauseOthers(null); pPlayer.loadVideoById(PROMO_IDS[pIndex]); }
    function promoToggle(){ try{ const s=pPlayer.getPlayerState(); if(s===YT.PlayerState.PLAYING) pPlayer.pauseVideo(); else { pauseOthers(null); pPlayer.playVideo(); } }catch(_){} }

    function createPromo(){
      pPlayer=new YT.Player('promo-player',{
        videoId:PROMO_IDS[pIndex],
        playerVars:{rel:0,modestbranding:1,playsinline:1,controls:1},
        events:{
          onReady:e=>{ try{e.target.mute();e.target.playVideo();}catch(_){ } promoTitle(); },
          onStateChange:e=>{
            if(e.data===YT.PlayerState.PLAYING) pauseOthers(null);
            if(e.data===YT.PlayerState.ENDED) promoNext();
            if(e.data===YT.PlayerState.PLAYING||e.data===YT.PlayerState.CUED) promoTitle();
          }
        }
      });
      window._ytPromo=pPlayer;

      // botones
      document.getElementById('btnPromoPrev').onclick=promoPrev;
      document.getElementById('btnPromoNext').onclick=promoNext;
      document.getElementById('btnPromoPlay').onclick=promoToggle;

      // fullscreen
      const btn=document.getElementById('btnPromoFs');
      const shell=document.querySelector('#promo .video-shell');
      function toggleFs(){ if(document.fullscreenElement) document.exitFullscreen?.(); else shell?.requestFullscreen?.(); }
      function onFsChange(){ btn.textContent = document.fullscreenElement ? "⤢ Salir de pantalla completa" : "⤢ Pantalla completa"; }
      btn.addEventListener('click',toggleFs); document.addEventListener('fullscreenchange',onFsChange);
    }
    (function bootPromo(){
      const prev=window.onYouTubeIframeAPIReady;
      window.onYouTubeIframeAPIReady=function(){ if(typeof prev==='function') prev(); createPromo(); };
      if(window.YT&&window.YT.Player) createPromo();
    })();
  </script>
</body>
</html>
