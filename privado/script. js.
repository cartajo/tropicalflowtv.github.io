async function verificarCodigo() {
  const codigo = document.getElementById("codigo").value.trim().toUpperCase();
  const mensaje = document.getElementById("mensaje");

  if (!codigo) {
    mensaje.textContent = "Por favor, introduce un código.";
    return;
  }

  try {
    const res = await fetch("codes.json");
    const data = await res.json();

    if (data.includes(codigo)) {
      localStorage.setItem("accesoTFTV", "ok");
      window.location.href = "../index.html";
    } else {
      mensaje.textContent = "Código incorrecto o ya fue usado.";
    }
  } catch (error) {
    mensaje.textContent = "Error al validar código.";
    console.error(error);
  }
}
